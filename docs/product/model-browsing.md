# 模型搜索与浏览

## 功能概述

模型搜索与浏览模块基于Civitai API提供的搜索能力，帮助用户快速发现和探索平台上的模型资源。所有功能均受API提供的筛选参数和返回数据所限。

### 核心价值

- 资源发现：利用API提供的筛选功能发现优质模型
- 决策支持：展示API返回的模型详情信息
- 个性化体验：通过组合API参数创建个性化筛选
- 时间节省：快速定位资源，避免无效浏览

## 基本功能

### 模型查找（基于`/api/v1/models`）

| 功能         | API参数实现           | API限制                     |
| ------------ | --------------------- | --------------------------- |
| 关键词搜索   | `query="关键词"`      | 模糊匹配，无精确搜索支持    |
| 模型类型筛选 | `types=["LORA",...]`  | 仅支持API定义的模型类型枚举 |
| 标签浏览     | `tag="标签名"`        | 单次请求仅支持一个标签      |
| 创作者浏览   | `username="创作者名"` | 单次请求仅支持一个创作者    |

### 结果浏览（基于API响应）

| 功能     | API参数或响应字段    | API限制                         |
| -------- | -------------------- | ------------------------------- |
| 网格视图 | 使用返回的图像URLs   | 图像质量和可用性受API控制       |
| 列表视图 | 模型元数据字段       | 仅限API返回的字段，无自定义字段 |
| 排序控制 | `sort`, `period`参数 | 仅支持API定义的排序选项         |
| 分页浏览 | `page`, `limit`参数  | 单页最多100条结果               |

### 基本详情查看（基于`/api/v1/models/:id`）

| 功能     | API响应字段                 | API限制                           |
| -------- | --------------------------- | --------------------------------- |
| 模型概览 | `name`, `description`等字段 | 仅限API返回的描述信息             |
| 示例图像 | `images`数组                | 仅显示API返回的样例图，无额外获取 |
| 版本列表 | `modelVersions`数组         | 仅限API返回的版本信息             |
| 一键下载 | 使用版本ID调用下载API       | 需要确认API认证要求               |

## 高级功能

### 精细筛选（基于API参数组合）

| 功能           | API参数组合                | API限制                              |
| -------------- | -------------------------- | ------------------------------------ |
| 多条件组合筛选 | 多个筛选参数同时使用       | 复杂查询可能降低性能                 |
| 评分范围筛选   | `rating`参数 (已弃用)      | API已弃用参数，需找替代方案          |
| 许可证筛选     | `allowCommercialUse`等参数 | 仅支持API定义的许可枚举值            |
| 时间范围筛选   | `period`参数               | 仅支持预定义的时间范围，无自定义日期 |
| 自定义筛选模板 | 本地存储API参数组合        | 纯本地功能，不支持服务端保存         |

## 浏览限制与优化

| API限制             | 应对策略           | 实现方法                         |
| ------------------- | ------------------ | -------------------------------- |
| 分页限制 (100项/页) | 自动处理多页结果   | 实现分页导航和自动加载更多       |
| 搜索精度有限        | 提供组合筛选建议   | 帮助用户构建更精确的筛选组合     |
| 排序选项有限        | 提供本地二次排序   | 获取数据后在本地应用额外排序逻辑 |
| API请求频率限制     | 实现缓存和智能请求 | 缓存常用搜索结果，合并类似请求   |
